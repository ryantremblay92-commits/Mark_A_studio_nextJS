"use strict";exports.id=198,exports.ids=[198],exports.modules={1198:(a,b,c)=>{c.r(b),c.d(b,{default:()=>t});var d=c(1124),e=c(8301),f=c(8285),g=c(8849),h=c(3339);let i=(0,h.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var j=c(7621),k=c(7089),l=c(4688),m=c(5234);let n=(0,h.A)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var o=c(6487);let p=["Lead","Contacted","Proposal","Won","Lost"],q=({isOpen:a,onClose:b,deal:c,onSave:f,onGenerateProposal:g,onOnboardClient:h,isGeneratingProposal:i})=>{let[q,r]=e.useState({title:"",contactName:"",contactPhone:"",value:0,description:"",status:"Lead"}),[s,t]=e.useState(!1);e.useEffect(()=>{c?r({title:c.title,contactName:c.contactName,contactPhone:c.contactPhone||"",value:c.value,description:c.description||"",status:c.status}):r({title:"",contactName:"",contactPhone:"",value:0,description:"",status:"Lead"})},[c,a]);let u=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:"value"===b?parseInt(c)||0:c}))};return a?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:b,children:(0,d.jsxs)("div",{className:"bg-[#08080c] border border-white/5 rounded-[2.5rem] shadow-2xl max-w-2xl w-full p-8 text-left flex flex-col max-h-[90vh] animate-fade-in-up",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter italic",children:c?"Edit Deal":"Create New Deal"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[c&&"Won"===q.status&&(0,d.jsxs)("button",{onClick:()=>h(c),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-[0_5px_15px_rgba(16,185,129,0.3)]",children:[(0,d.jsx)(j.A,{className:"w-3.5 h-3.5"})," Onboard as Client"]}),(0,d.jsx)("button",{onClick:b,className:"p-2 rounded-full hover:bg-white/10 text-slate-500",children:(0,d.jsx)(k.A,{className:"w-5 h-5"})})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 -mr-4",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Deal Title"}),(0,d.jsx)("input",{name:"title",value:q.title,onChange:u,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Contact Name"}),(0,d.jsx)("input",{name:"contactName",value:q.contactName,onChange:u,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Contact Phone"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{name:"contactPhone",value:q.contactPhone,onChange:u,placeholder:"+1...",className:"flex-1 bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"}),q.contactPhone&&(0,d.jsx)("button",{onClick:()=>{if(!q.contactPhone)return;let a=encodeURIComponent(`Hello ${q.contactName}, this is MarkA Studio regarding our ${q.title} discussion.`);window.open(`https://wa.me/${q.contactPhone.replace(/[^0-9]/g,"")}?text=${a}`,"_blank")},className:"px-3 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 rounded-lg transition-all",children:(0,d.jsx)(l.A,{className:"w-4 h-4"})})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Value ($)"}),(0,d.jsx)("input",{name:"value",type:"number",value:q.value,onChange:u,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Status"}),(0,d.jsx)("select",{name:"status",value:q.status,onChange:u,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all appearance-none",children:p.map(a=>(0,d.jsx)("option",{value:a,children:a},a))})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Description / Scope"}),(0,d.jsx)("textarea",{name:"description",value:q.description,onChange:u,rows:4,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all custom-scrollbar"})]}),"Proposal"===q.status&&c&&(0,d.jsxs)("div",{className:"pt-4 border-t border-white/5",children:[(0,d.jsxs)("h3",{className:"text-xs font-black uppercase tracking-widest text-indigo-400 mb-3 flex items-center gap-2",children:[(0,d.jsx)(m.A,{className:"w-3.5 h-3.5"})," AI Proposal Engine"]}),c.proposalText?(0,d.jsxs)("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-5",children:[(0,d.jsx)("div",{className:"prose prose-sm prose-invert max-h-48 overflow-y-auto custom-scrollbar mb-4 text-slate-300 text-[11px] leading-relaxed",dangerouslySetInnerHTML:{__html:c.proposalText.replace(/\n/g,"<br />")}}),(0,d.jsxs)("button",{onClick:()=>{c?.proposalText&&(navigator.clipboard.writeText(c.proposalText),t(!0),setTimeout(()=>t(!1),2e3))},className:"w-full flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border border-white/5",children:[(0,d.jsx)(n,{className:"w-3.5 h-3.5"})," ",s?"Copied to Clipboard":"Copy Proposal Text"]})]}):(0,d.jsx)("button",{onClick:()=>g(c.id),disabled:i,className:"w-full flex items-center justify-center gap-2 bg-indigo-600/10 hover:bg-indigo-600/20 text-indigo-400 border border-indigo-600/30 px-4 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all disabled:opacity-50",children:i?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.A,{className:"w-4 h-4 animate-spin"})," Architecting Proposal..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{className:"w-4 h-4"})," Generate Targeted Proposal"]})})]})]})}),(0,d.jsxs)("div",{className:"mt-8 flex justify-end gap-3 pt-6 border-t border-white/5",children:[(0,d.jsx)("button",{onClick:b,className:"px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest bg-white/5 hover:bg-white/10 text-slate-400 transition-all",children:"Cancel"}),(0,d.jsx)("button",{onClick:()=>{c?f({...c,...q}):f(q)},className:"px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest bg-indigo-600 hover:bg-indigo-500 text-white shadow-[0_10px_20px_rgba(79,70,229,0.3)] transition-all",children:"Save Changes"})]})]})}):null},r=["Lead","Contacted","Proposal","Won","Lost"],s={Lead:{border:"border-slate-600",text:"text-slate-400",bg:"bg-slate-500/10"},Contacted:{border:"border-sky-500",text:"text-sky-400",bg:"bg-sky-500/10"},Proposal:{border:"border-amber-500",text:"text-amber-400",bg:"bg-amber-500/10"},Won:{border:"border-emerald-500",text:"text-emerald-400",bg:"bg-emerald-500/10"},Lost:{border:"border-rose-500",text:"text-rose-400",bg:"bg-rose-500/10"}},t=({deals:a,onUpdateDeal:b,onAddDeal:c,onGenerateProposal:h,onOnboardClient:j,isGeneratingProposal:k,onDiscoverLeads:l})=>{let[m,n]=e.useState(!1),[o,p]=e.useState(null),[t,u]=e.useState("All"),v=a=>{p(a),n(!0)},w=()=>{n(!1),p(null)},x="All"===t?a:a.filter(a=>a.status===t);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q,{isOpen:m,onClose:w,deal:o,onSave:a=>{"id"in a?b(a):c(a),w()},onGenerateProposal:h,onOnboardClient:j,isGeneratingProposal:k}),(0,d.jsxs)("div",{className:"p-12 space-y-8 animate-fade-in-up h-full flex flex-col",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:["CRM ",(0,d.jsx)("span",{className:"text-indigo-500",children:"Pipeline"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("button",{onClick:l,className:"bg-white/5 hover:bg-white/10 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 text-slate-300 border border-white/5",children:[(0,d.jsx)(f.A,{className:"w-3 h-3 text-indigo-400"})," Discover Leads"]}),(0,d.jsxs)("button",{onClick:()=>v(null),className:"bg-indigo-600 hover:bg-indigo-500 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2",children:[(0,d.jsx)(g.A,{className:"w-3 h-3"})," Add New Deal"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 border-b-2 border-white/5 pb-4",children:[(0,d.jsx)("button",{onClick:()=>u("All"),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-colors ${"All"===t?"bg-indigo-600 text-white":"text-slate-400 hover:bg-white/5"}`,children:"All"}),r.map(b=>(0,d.jsxs)("button",{onClick:()=>u(b),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${t===b?`${s[b].bg} ${s[b].text}`:"text-slate-400 hover:bg-white/5"}`,children:[b,(0,d.jsx)("span",{className:"text-xs font-mono bg-black/20 px-1.5 py-0.5 rounded",children:a.filter(a=>a.status===b).length})]},b))]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 -mr-4",children:(0,d.jsx)("div",{className:"space-y-4",children:x.length>0?x.map(a=>(0,d.jsxs)("div",{className:"bg-[#08080c] border border-white/5 rounded-2xl p-4 flex items-center gap-4 group hover:bg-white/[0.03] transition-all",children:[(0,d.jsx)("div",{className:`w-2 h-10 rounded-full ${s[a.status].bg.replace("/10","/50")}`}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-bold text-white",children:a.title}),(0,d.jsx)("p",{className:"text-xs text-slate-400",children:a.contactName})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("span",{className:"font-bold text-white",children:["$",a.value.toLocaleString()]}),(0,d.jsx)("p",{className:`text-[9px] font-bold uppercase tracking-widest ${s[a.status].text}`,children:a.status})]}),(0,d.jsx)("button",{onClick:()=>v(a),className:"p-3 bg-white/5 rounded-lg text-slate-400 opacity-0 group-hover:opacity-100 hover:text-white hover:bg-indigo-600/50 transition-all",children:(0,d.jsx)(i,{className:"w-4 h-4"})})]},a.id)):(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-slate-600 border border-dashed border-white/5 rounded-3xl",children:[(0,d.jsx)(f.A,{className:"w-12 h-12 opacity-10 mb-4"}),(0,d.jsx)("p",{className:"text-xs font-black uppercase tracking-widest italic",children:"No active deals in pipeline"})]})})})]})]})}}};