"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{4009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(5155),l=a(2115),r=a(6651),n=a(6191),i=a(1847);let o=(0,i.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var c=a(639),d=a(5229),x=a(7586),p=a(5740);let b=(0,i.A)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var h=a(5707);let m=["Lead","Contacted","Proposal","Won","Lost"],u=e=>{let{isOpen:t,onClose:a,deal:r,onSave:n,onGenerateProposal:i,onOnboardClient:o,isGeneratingProposal:u}=e,[g,f]=l.useState({title:"",contactName:"",contactPhone:"",value:0,description:"",status:"Lead"}),[w,j]=l.useState(!1);l.useEffect(()=>{r?f({title:r.title,contactName:r.contactName,contactPhone:r.contactPhone||"",value:r.value,description:r.description||"",status:r.status}):f({title:"",contactName:"",contactPhone:"",value:0,description:"",status:"Lead"})},[r,t]);let N=e=>{let{name:t,value:a}=e.target;f(e=>({...e,[t]:"value"===t?parseInt(a)||0:a}))};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:a,children:(0,s.jsxs)("div",{className:"bg-[#08080c] border border-white/5 rounded-[2.5rem] shadow-2xl max-w-2xl w-full p-8 text-left flex flex-col max-h-[90vh] animate-fade-in-up",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter italic",children:r?"Edit Deal":"Create New Deal"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[r&&"Won"===g.status&&(0,s.jsxs)("button",{onClick:()=>o(r),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-[0_5px_15px_rgba(16,185,129,0.3)]",children:[(0,s.jsx)(c.A,{className:"w-3.5 h-3.5"})," Onboard as Client"]}),(0,s.jsx)("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/10 text-slate-500",children:(0,s.jsx)(d.A,{className:"w-5 h-5"})})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 -mr-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Deal Title"}),(0,s.jsx)("input",{name:"title",value:g.title,onChange:N,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Contact Name"}),(0,s.jsx)("input",{name:"contactName",value:g.contactName,onChange:N,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Contact Phone"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{name:"contactPhone",value:g.contactPhone,onChange:N,placeholder:"+1...",className:"flex-1 bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"}),g.contactPhone&&(0,s.jsx)("button",{onClick:()=>{if(!g.contactPhone)return;let e=encodeURIComponent("Hello ".concat(g.contactName,", this is MarkA Studio regarding our ").concat(g.title," discussion."));window.open("https://wa.me/".concat(g.contactPhone.replace(/[^0-9]/g,""),"?text=").concat(e),"_blank")},className:"px-3 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 rounded-lg transition-all",children:(0,s.jsx)(x.A,{className:"w-4 h-4"})})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Value ($)"}),(0,s.jsx)("input",{name:"value",type:"number",value:g.value,onChange:N,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Status"}),(0,s.jsx)("select",{name:"status",value:g.status,onChange:N,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all appearance-none",children:m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1 block",children:"Description / Scope"}),(0,s.jsx)("textarea",{name:"description",value:g.description,onChange:N,rows:4,className:"w-full bg-black/40 border border-white/5 rounded-lg px-3 py-2 text-sm text-white font-medium focus:border-indigo-500 outline-none transition-all custom-scrollbar"})]}),"Proposal"===g.status&&r&&(0,s.jsxs)("div",{className:"pt-4 border-t border-white/5",children:[(0,s.jsxs)("h3",{className:"text-xs font-black uppercase tracking-widest text-indigo-400 mb-3 flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"w-3.5 h-3.5"})," AI Proposal Engine"]}),r.proposalText?(0,s.jsxs)("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-5",children:[(0,s.jsx)("div",{className:"prose prose-sm prose-invert max-h-48 overflow-y-auto custom-scrollbar mb-4 text-slate-300 text-[11px] leading-relaxed",dangerouslySetInnerHTML:{__html:r.proposalText.replace(/\n/g,"<br />")}}),(0,s.jsxs)("button",{onClick:()=>{(null==r?void 0:r.proposalText)&&(navigator.clipboard.writeText(r.proposalText),j(!0),setTimeout(()=>j(!1),2e3))},className:"w-full flex items-center justify-center gap-2 bg-white/5 hover:bg-white/10 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border border-white/5",children:[(0,s.jsx)(b,{className:"w-3.5 h-3.5"})," ",w?"Copied to Clipboard":"Copy Proposal Text"]})]}):(0,s.jsx)("button",{onClick:()=>i(r.id),disabled:u,className:"w-full flex items-center justify-center gap-2 bg-indigo-600/10 hover:bg-indigo-600/20 text-indigo-400 border border-indigo-600/30 px-4 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all disabled:opacity-50",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"w-4 h-4 animate-spin"})," Architecting Proposal..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"w-4 h-4"})," Generate Targeted Proposal"]})})]})]})}),(0,s.jsxs)("div",{className:"mt-8 flex justify-end gap-3 pt-6 border-t border-white/5",children:[(0,s.jsx)("button",{onClick:a,className:"px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest bg-white/5 hover:bg-white/10 text-slate-400 transition-all",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{r?n({...r,...g}):n(g)},className:"px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest bg-indigo-600 hover:bg-indigo-500 text-white shadow-[0_10px_20px_rgba(79,70,229,0.3)] transition-all",children:"Save Changes"})]})]})}):null},g=["Lead","Contacted","Proposal","Won","Lost"],f={Lead:{border:"border-slate-600",text:"text-slate-400",bg:"bg-slate-500/10"},Contacted:{border:"border-sky-500",text:"text-sky-400",bg:"bg-sky-500/10"},Proposal:{border:"border-amber-500",text:"text-amber-400",bg:"bg-amber-500/10"},Won:{border:"border-emerald-500",text:"text-emerald-400",bg:"bg-emerald-500/10"},Lost:{border:"border-rose-500",text:"text-rose-400",bg:"bg-rose-500/10"}},w=e=>{let{deals:t,onUpdateDeal:a,onAddDeal:i,onGenerateProposal:c,onOnboardClient:d,isGeneratingProposal:x,onDiscoverLeads:p}=e,[b,h]=l.useState(!1),[m,w]=l.useState(null),[j,N]=l.useState("All"),v=e=>{w(e),h(!0)},k=()=>{h(!1),w(null)},y="All"===j?t:t.filter(e=>e.status===j);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{isOpen:b,onClose:k,deal:m,onSave:e=>{"id"in e?a(e):i(e),k()},onGenerateProposal:c,onOnboardClient:d,isGeneratingProposal:x}),(0,s.jsxs)("div",{className:"p-12 space-y-8 animate-fade-in-up h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:["CRM ",(0,s.jsx)("span",{className:"text-indigo-500",children:"Pipeline"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{onClick:p,className:"bg-white/5 hover:bg-white/10 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 text-slate-300 border border-white/5",children:[(0,s.jsx)(r.A,{className:"w-3 h-3 text-indigo-400"})," Discover Leads"]}),(0,s.jsxs)("button",{onClick:()=>v(null),className:"bg-indigo-600 hover:bg-indigo-500 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"w-3 h-3"})," Add New Deal"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 border-b-2 border-white/5 pb-4",children:[(0,s.jsx)("button",{onClick:()=>N("All"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-colors ".concat("All"===j?"bg-indigo-600 text-white":"text-slate-400 hover:bg-white/5"),children:"All"}),g.map(e=>(0,s.jsxs)("button",{onClick:()=>N(e),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ".concat(j===e?"".concat(f[e].bg," ").concat(f[e].text):"text-slate-400 hover:bg-white/5"),children:[e,(0,s.jsx)("span",{className:"text-xs font-mono bg-black/20 px-1.5 py-0.5 rounded",children:t.filter(t=>t.status===e).length})]},e))]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 -mr-4",children:(0,s.jsx)("div",{className:"space-y-4",children:y.length>0?y.map(e=>(0,s.jsxs)("div",{className:"bg-[#08080c] border border-white/5 rounded-2xl p-4 flex items-center gap-4 group hover:bg-white/[0.03] transition-all",children:[(0,s.jsx)("div",{className:"w-2 h-10 rounded-full ".concat(f[e.status].bg.replace("/10","/50"))}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-bold text-white",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:e.contactName})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("span",{className:"font-bold text-white",children:["$",e.value.toLocaleString()]}),(0,s.jsx)("p",{className:"text-[9px] font-bold uppercase tracking-widest ".concat(f[e.status].text),children:e.status})]}),(0,s.jsx)("button",{onClick:()=>v(e),className:"p-3 bg-white/5 rounded-lg text-slate-400 opacity-0 group-hover:opacity-100 hover:text-white hover:bg-indigo-600/50 transition-all",children:(0,s.jsx)(o,{className:"w-4 h-4"})})]},e.id)):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-slate-600 border border-dashed border-white/5 rounded-3xl",children:[(0,s.jsx)(r.A,{className:"w-12 h-12 opacity-10 mb-4"}),(0,s.jsx)("p",{className:"text-xs font-black uppercase tracking-widest italic",children:"No active deals in pipeline"})]})})})]})]})}}}]);